<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿ºã®å¤§ä¼šã¾ã§ã®é“ã®ã‚Š</title>
    <meta name="description" content="2025å¹´10æœˆ18æ—¥ã®å¤§ä¼šã«å‘ã‘ãŸä½“é‡ç®¡ç†ã¨ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ ">
    
    <!-- OGPè¨­å®š -->
    <meta property="og:title" content="ä¿ºã®å¤§ä¼šã¾ã§ã®é“ã®ã‚Š">
    <meta property="og:description" content="å¤§ä¼šã«å‘ã‘ãŸä½“é‡ç®¡ç†ã¨ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ ">
    <meta property="og:image" content="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&h=630&q=80">
    <meta property="og:url" content="">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ä¿ºã®å¤§ä¼šã¾ã§ã®é“ã®ã‚Š">
    
    <!-- Twitter Cardè¨­å®š -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ä¿ºã®å¤§ä¼šã¾ã§ã®é“ã®ã‚Š">
    <meta name="twitter:description" content="å¤§ä¼šã«å‘ã‘ãŸä½“é‡ç®¡ç†ã¨ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ ">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&h=630&q=80">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’ª</text></svg>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab.active {
            color: #4f46e5;
            background: white;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
        }

        .tab:hover:not(.active) {
            background: #f1f5f9;
            color: #475569;
        }

        .tab .desktop-text {
            display: inline;
        }

        .tab .mobile-text {
            display: none;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .form-section h3 {
            color: #1e293b;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4f46e5;
        }

        .btn {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 70, 229, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
        }

        .btn-secondary:hover {
            box-shadow: 0 10px 20px rgba(107, 114, 128, 0.3);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .data-table th,
        .data-table td {
            padding: 12px 8px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 0.9rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .data-table th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table tr:hover {
            background: #f9fafb;
        }

        .weight-increase {
            color: #dc2626;
            font-weight: 600;
        }

        .weight-decrease {
            color: #2563eb;
            font-weight: 600;
        }

        .saturday {
            color: #0095d9;
            font-weight: 600;
        }

        .sunday-holiday {
            color: #d9333f;
            font-weight: 600;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            overflow: hidden;
        }

        .chart-container h3 {
            color: #1e293b;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .chart-container canvas {
            max-width: 100%;
            height: auto !important;
        }

        /* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ã®ãƒãƒ£ãƒ¼ãƒˆã‚µã‚¤ã‚ºèª¿æ•´ */
        .chart-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 4/3; /* 4:3ã®æ¯”ç‡ã‚’ç¶­æŒ */
            min-height: 400px;
        }

        /* ãƒ†ãƒ¼ãƒ–ãƒ«æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã‚³ãƒ³ãƒ†ãƒŠ */
        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .status-success {
            background: #dcfce7;
            color: #16a34a;
            border: 1px solid #bbf7d0;
        }

        .status-error {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }

        .export-section {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .mobile-header {
            display: none;
        }

        .desktop-header {
            display: table-row;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .tabs {
                flex-direction: row;
            }

            .tab {
                padding: 15px 5px;
                font-size: 1.5rem;
            }

            .tab .desktop-text {
                display: none;
            }

            .tab .mobile-text {
                display: inline;
            }

            .tab-content {
                padding: 15px;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px; /* é–“éš”ã‚’ç‹­ã */
            }

            /* ã‚¹ãƒãƒ›å°‚ç”¨ï¼šæ•°å€¤å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¹…åˆ¶é™ */
            .form-group input[type="number"] {
                max-width: 80px; /* æ•°å€¤å…¥åŠ›ã¯80pxã«åˆ¶é™ */
                width: 80px;
                font-size: 16px;
            }

            .form-group input[type="date"] {
                max-width: 140px; /* æ—¥ä»˜å…¥åŠ›ã¯140pxã«åˆ¶é™ */
                width: 140px;
                font-size: 16px;
            }

            .form-group select {
                max-width: 120px; /* ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã¯120pxã«åˆ¶é™ */
                width: 120px;
                font-size: 16px;
            }

            .form-group input[type="text"] {
                max-width: 180px; /* ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã¯180pxã«åˆ¶é™ */
                width: 180px;
                font-size: 16px;
            }

            /* ãƒ©ãƒ™ãƒ«ã¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ¨ªä¸¦ã³ã« */
            .form-group {
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 10px;
                padding: 0 5px; /* å·¦å³ã«ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ  */
            }

            .form-group label {
                margin-bottom: 0;
                margin-right: 8px;
                flex-shrink: 0;
                width: 120px; /* ãƒ©ãƒ™ãƒ«å¹…ã‚’120pxã«ç¸®å° */
                font-size: 14px;
                text-align: left;
            }

            .form-section {
                padding: 20px;
                margin-bottom: 20px;
            }

            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                margin: 0 -15px;
                border-radius: 0;
            }

            .data-table {
                min-width: 900px;
                font-size: 0.8rem;
            }

            .data-table th,
            .data-table td {
                padding: 8px 6px;
                min-width: 90px;
                font-size: 0.75rem;
            }

            .data-table th:last-child,
            .data-table td:last-child {
                min-width: 120px;
            }

            .mobile-header {
                display: table-row;
            }

            .desktop-header {
                display: none;
            }

            .chart-container {
                padding: 15px;
                margin-bottom: 20px;
                margin: 0 -15px 20px -15px;
                border-radius: 0;
            }

            .chart-wrapper {
                position: relative;
                width: 100%;
                height: 50vh;
                min-height: 350px;
                max-height: 500px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .chart-wrapper canvas {
                min-width: 1000px !important;
                height: 100% !important;
            }

            .btn {
                padding: 6px 10px;
                font-size: 0.75rem;
                margin: 2px;
                white-space: nowrap;
            }

            .table-container::-webkit-scrollbar {
                height: 8px;
                background: #f1f5f9;
            }

            .table-container::-webkit-scrollbar-thumb {
                background: #3b82f6;
                border-radius: 4px;
                border: 1px solid #f1f5f9;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’ª ä¿ºã®å¤§ä¼šã¾ã§ã®é“ã®ã‚Š</h1>
            <p>Ver1.34 [å®‰å®šç‰ˆãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒãƒ›UIæ”¹å–„ãƒ»ã‚°ãƒ©ãƒ•ã‚¨ãƒ©ãƒ¼ä¿®æ­£]</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('daily')">
                <span class="desktop-text">æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ç®¡ç†</span>
                <span class="mobile-text">âš–ï¸</span>
            </button>
            <button class="tab" onclick="showTab('training')">
                <span class="desktop-text">ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç®¡ç†</span>
                <span class="mobile-text">ğŸ‹ï¸</span>
            </button>
            <button class="tab" onclick="showTab('analysis')">
                <span class="desktop-text">ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»ã‚°ãƒ©ãƒ•</span>
                <span class="mobile-text">ğŸ“ˆ</span>
            </button>
            <button class="tab" onclick="showTab('export')">
                <span class="desktop-text">ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</span>
                <span class="mobile-text">ğŸ“¤</span>
            </button>
        </div>

        <div id="status-message"></div>

        <!-- æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚¿ãƒ– -->
        <div id="daily" class="tab-content active">
            <div class="form-section">
                <h3>ğŸ“Š æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿å…¥åŠ›</h3>
                <form id="daily-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="daily-date">å¹´æœˆæ—¥</label>
                            <input type="date" id="daily-date" required>
                        </div>
                        <div class="form-group">
                            <label for="weight">ä½“é‡ (kg)</label>
                            <input type="number" id="weight" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="calories">æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼ (kcal)</label>
                            <input type="number" id="calories" required>
                        </div>
                        <div class="form-group">
                            <label for="steps">æ­©æ•°</label>
                            <input type="number" id="steps" required>
                        </div>
                        <div class="form-group">
                            <label for="event">ã‚¤ãƒ™ãƒ³ãƒˆ</label>
                            <input type="text" id="event" placeholder="ä¾‹: ä¼šé£Ÿã€ä½“èª¿ä¸è‰¯ã€ãƒãƒ¼ãƒˆãƒ‡ã‚¤">
                        </div>
                    </div>
                    <button type="submit" class="btn">ãƒ‡ãƒ¼ã‚¿ä¿å­˜</button>
                    <button type="button" class="btn btn-secondary" onclick="clearDailyForm()">ã‚¯ãƒªã‚¢</button>
                </form>
            </div>

            <div class="form-section">
                <h3>ğŸ“ˆ æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ä¸€è¦§</h3>
                <div class="table-container">
                    <table class="data-table" id="daily-table">
                        <thead>
                            <tr class="desktop-header">
                                <th>æ—¥ä»˜</th>
                                <th>ä½“é‡ (kg)</th>
                                <th>å‰æ—¥æ¯”</th>
                                <th>æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼ (kcal)</th>
                                <th>æ­©æ•°</th>
                                <th>æ­©è¡Œæ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼</th>
                                <th>ç­‹ãƒˆãƒ¬æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼</th>
                                <th>ã‚¤ãƒ™ãƒ³ãƒˆ</th>
                                <th>æ“ä½œ</th>
                            </tr>
                            <tr class="mobile-header">
                                <th>ğŸ“…</th>
                                <th>âš–ï¸</th>
                                <th>ğŸ§®</th>
                                <th>ğŸš</th>
                                <th>ğŸš¶</th>
                                <th>ğŸš¶</th>
                                <th>ğŸ‹ï¸</th>
                                <th>ğŸ“</th>
                                <th>âŒ</th>
                            </tr>
                        </thead>
                        <tbody id="daily-table-body">
                            <!-- ãƒ‡ãƒ¼ã‚¿ãŒå‹•çš„ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç®¡ç†ã‚¿ãƒ– -->
        <div id="training" class="tab-content">
            <div class="form-section">
                <h3>ğŸ‹ï¸ ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²</h3>
                <form id="training-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="training-date">å¹´æœˆæ—¥</label>
                            <input type="date" id="training-date" required>
                        </div>
                        <div class="form-group">
                            <label for="exercise">ç¨®ç›®</label>
                            <select id="exercise" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹">ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹</option>
                                <option value="ãƒšãƒƒã‚¯ãƒ•ãƒ©ã‚¤">ãƒšãƒƒã‚¯ãƒ•ãƒ©ã‚¤</option>
                                <option value="ãƒ‡ã‚£ãƒƒãƒ—ã‚¹">ãƒ‡ã‚£ãƒƒãƒ—ã‚¹</option>
                                <option value="ãƒ‡ã‚¯ãƒ©ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¹">ãƒ‡ã‚¯ãƒ©ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¹</option>
                                <option value="ãƒ©ãƒƒãƒˆãƒ—ãƒ«ãƒ€ã‚¦ãƒ³">ãƒ©ãƒƒãƒˆãƒ—ãƒ«ãƒ€ã‚¦ãƒ³</option>
                                <option value="DYãƒ­ãƒ¼ã‚¤ãƒ³ã‚°">DYãƒ­ãƒ¼ã‚¤ãƒ³ã‚°</option>
                                <option value="Tãƒãƒ¼ãƒ­ãƒ¼ã‚¤ãƒ³ã‚°">Tãƒãƒ¼ãƒ­ãƒ¼ã‚¤ãƒ³ã‚°</option>
                                <option value="ãƒãƒ³ãƒ‹ãƒ³ã‚°">ãƒãƒ³ãƒ‹ãƒ³ã‚°</option>
                                <option value="ãƒã‚·ãƒ³ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ãƒ—ãƒ¬ã‚¹">ãƒã‚·ãƒ³ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ãƒ—ãƒ¬ã‚¹</option>
                                <option value="ãƒ€ãƒ³ãƒ™ãƒ«ã‚µã‚¤ãƒ‰ãƒ¬ã‚¤ã‚º">ãƒ€ãƒ³ãƒ™ãƒ«ã‚µã‚¤ãƒ‰ãƒ¬ã‚¤ã‚º</option>
                                <option value="ãƒ€ãƒ³ãƒ™ãƒ«ãƒªã‚¢ãƒ¬ã‚¤ã‚º">ãƒ€ãƒ³ãƒ™ãƒ«ãƒªã‚¢ãƒ¬ã‚¤ã‚º</option>
                                <option value="ã‚¤ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ãƒ€ãƒ³ãƒ™ãƒ«ã‚«ãƒ¼ãƒ«">ã‚¤ãƒ³ã‚¯ãƒ©ã‚¤ãƒ³ãƒ€ãƒ³ãƒ™ãƒ«ã‚«ãƒ¼ãƒ«</option>
                                <option value="ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆ">ãƒ‡ãƒƒãƒ‰ãƒªãƒ•ãƒˆ</option>
                                <option value="ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ">ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ</option>
                                <option value="ãƒãƒƒã‚¯ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ">ãƒãƒƒã‚¯ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ</option>
                                <option value="45åº¦ãƒ¬ãƒƒã‚°ãƒ—ãƒ¬ã‚¹">45åº¦ãƒ¬ãƒƒã‚°ãƒ—ãƒ¬ã‚¹</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="training-weight">é‡é‡ (kg)</label>
                            <input type="number" id="training-weight" step="0.5" required>
                        </div>
                        <div class="form-group">
                            <label for="reps">å›æ•°</label>
                            <select id="reps" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sets">ã‚»ãƒƒãƒˆæ•°</label>
                            <select id="sets" required>
                                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn">ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²ä¿å­˜</button>
                    <button type="button" class="btn btn-secondary" onclick="clearTrainingForm()">ã‚¯ãƒªã‚¢</button>
                </form>
            </div>

            <div class="form-section">
                <h3>ğŸ“‹ ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è¨˜éŒ²ä¸€è¦§</h3>
                <div class="table-container">
                    <table class="data-table" id="training-table">
                        <thead>
                            <tr class="desktop-header">
                                <th>æ—¥ä»˜</th>
                                <th>ç¨®ç›®</th>
                                <th>é‡é‡ (kg)</th>
                                <th>å›æ•°</th>
                                <th>ã‚»ãƒƒãƒˆæ•°</th>
                                <th>éƒ¨ä½</th>
                                <th>å¼·åº¦</th>
                                <th>æ“ä½œ</th>
                            </tr>
                            <tr class="mobile-header">
                                <th>ğŸ“…</th>
                                <th>ğŸ‹ï¸</th>
                                <th>âš–ï¸</th>
                                <th>ğŸ”¢</th>
                                <th>ğŸ”¢</th>
                                <th>ğŸ’ª</th>
                                <th>ğŸ”¥</th>
                                <th>âŒ</th>
                            </tr>
                        </thead>
                        <tbody id="training-table-body">
                            <!-- ãƒ‡ãƒ¼ã‚¿ãŒå‹•çš„ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»ã‚°ãƒ©ãƒ•ã‚¿ãƒ– -->
        <div id="analysis" class="tab-content">
            <div class="chart-container">
                <h3 id="chart-title">å¤§ä¼šå½“æ—¥ã¯è¨ˆç®—ä¸­...ã§ç€åœ°è¦‹è¾¼ã¿ï¼</h3>
                <div class="chart-wrapper">
                    <canvas id="analysisChart"></canvas>
                </div>
            </div>
        </div>

        <!-- ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚¿ãƒ– -->
        <div id="export" class="tab-content">
            <div class="export-section">
                <h3>ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h3>
                <p>ãƒ‡ãƒ¼ã‚¿ã‚’CSVå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã€Excelã§é–‹ãã“ã¨ãŒã§ãã¾ã™ã€‚</p>
                <div style="margin-top: 20px;">
                    <button class="btn" onclick="exportDailyData()">æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    <button class="btn" onclick="exportTrainingData()">ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                    <button class="btn" onclick="exportAllData()">å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Netlify Functions API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
        const API_BASE = '/.netlify/functions';

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let dailyData = [];
        let trainingData = [];
        let analysisChart = null;

        // æ—¥æœ¬ã®ç¥æ—¥ãƒ‡ãƒ¼ã‚¿ (2025å¹´)
        const holidays2025 = [
            '2025-01-01', '2025-01-13', '2025-02-11', '2025-02-23', '2025-03-20',
            '2025-04-29', '2025-05-03', '2025-05-04', '2025-05-05', '2025-07-21',
            '2025-08-11', '2025-09-15', '2025-09-23', '2025-10-13', '2025-11-03',
            '2025-11-23', '2025-12-23'
        ];

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadAllData();
            setupDateDefaults();
            setupEventListeners();
        });

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
        function setupEventListeners() {
            document.getElementById('daily-form').addEventListener('submit', handleDailySubmit);
            document.getElementById('training-form').addEventListener('submit', handleTrainingSubmit);
        }

        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥ä»˜ã®è¨­å®š
        function setupDateDefaults() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('daily-date').value = today;
            document.getElementById('training-date').value = today;
        }

        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function showTab(tabName) {
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’è¡¨ç¤º
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // ã‚°ãƒ©ãƒ•ã‚¿ãƒ–ãŒé¸æŠã•ã‚ŒãŸå ´åˆã¯æç”»
            if (tabName === 'analysis') {
                setTimeout(() => drawAnalysisChart(), 100);
            }
        }

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        function showStatus(message, type = 'success') {
            const statusEl = document.getElementById('status-message');
            statusEl.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
            setTimeout(() => {
                statusEl.innerHTML = '';
            }, 3000);
        }

        // å…¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
        async function loadAllData() {
            try {
                showStatus('ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...', 'success');
                
                // æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
                const dailyResponse = await fetch(`${API_
